<!DOCTYPE html>
<html lang="fr"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-html-68b329da9893e34099c7d8ad5cb9c940.min.css" rel="stylesheet" append-hash="true" data-mode="light">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-79bb3942e891885f9f7af119cd221462.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-contrib/reveal-auto-agenda-0.0.1/reveal-auto-agenda.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.9">

  <meta name="author" content="Frédéric Reynès">
  <meta name="author" content="Anissa Saumtally">
  <title>CGEs in R - Workshop – CGE in R - Practical sessions</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-f3a4a0f9d3cd4c9bb301e3866af5d1bd.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">CGE in R - Practical sessions</h1>
  <p class="subtitle"></p><div class="line-block"><span style="color: grey;font-size: 0.95em;letter-spacing: 1px;line-height: 0.25;">Universidad Iberoamericana Ciudad de México</span><br>
<span style="color: blue;font-size: 0.95em;letter-spacing: 1px;line-height: 0.25;">Taller: Modelos de Equilibrio General Neokeynesianos Dinámicos en R</span></div><p></p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Frédéric Reynès 
</div>
</div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Anissa Saumtally 
</div>
</div>
</div>

  <p class="date">mercredi 6 novembre 2024</p>
</section>
<section>
<section class="title-slide slide level1 agenda-slide center">
<h1>Introduction</h1>
<div class="agenda-heading">

</div>
<div class="agenda">
<div class="agenda-active">
<p>Introduction</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 1</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 2</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Results visualisation functions</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Workshop day one completed !</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 3</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 4</p>
</div>
</div>
</section>
<section id="foreword-codename-ermeeth-project" class="slide level2">
<h2>Foreword: codename <em>Ermeeth project</em></h2>
<p><br></p>
<ul>
<li>The CGE platform presented today is the a suite of scripts and packages initially developed to run the ThreeME model in R</li>
<li>This platform is versatile as even the simplest models can be run</li>
<li>Multiple system solvers from external applications can be mobilised to solve the model,
<ul>
<li>These session will only use a solver written in R that works well on small scale models</li>
</ul></li>
<li>These practical sessions aim at giving you a preview of a workflow of model simulation and result analysis on simple models</li>
</ul>
</section>
<section id="a-standard-workflow-on-the-ermeeth-project-platform" class="slide level2">
<h2>A standard workflow on the Ermeeth project platform</h2>
<p><br></p>
<ul>
<li><p>create/edit your model</p></li>
<li><p>create/edit your baseline and shock scenarios</p></li>
<li><p>Prepare your config files</p></li>
<li><p>Prepare your main file</p></li>
<li><p>Prepare a simple .qmd output (or use a template!)</p></li>
<li><p>Test it, fix errors (there is always something..)</p></li>
<li><p>Run simulations again.</p></li>
<li><p>Develope more advance analysis to understand behaviours</p></li>
</ul>
</section></section>
<section>
<section class="title-slide slide level1 agenda-slide center">
<h1>Practical Session 1</h1>
<div class="agenda-heading">

</div>
<div class="agenda">
<div class="agenda-inactive agenda-pre-active">
<p>Introduction</p>
</div>
<div class="agenda-active">
<p>Practical Session 1</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 2</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Results visualisation functions</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Workshop day one completed !</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 3</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 4</p>
</div>
</div>
</section>
<section id="session-objectives" class="slide level2">
<h2>Session objectives</h2>
<p><br></p>
<ul>
<li><p>Full software installation</p></li>
<li><p>Downloading the repository</p></li>
<li><p>Discovering the CGE in R simulation platform</p>
<ul>
<li>Navigating the repository structure</li>
<li>Main files presentation</li>
<li>Simulation output information</li>
<li>Quarto introduction</li>
</ul></li>
<li><p>Making sure everything runs!</p></li>
</ul>
</section>
<section id="download-links" class="slide level2">
<h2>Download links</h2>
<p><br></p>
<ul>
<li>Please go to (https://ThreeME-org.github.io/CGE_inR_iberomex/install)[]
<ul>
<li>Download and install the 3/4 softwares linked</li>
<li>Download the repository off GitHub (no account necessary)</li>
<li>Package installation</li>
</ul></li>
<li>What are you installing ?
<ul>
<li>R is the basic R langage software</li>
<li>RStudio provides a user-friendly IDE to run R]</li>
<li>Rtools for Windows adds advanced functionalities to R<sup>1</sup>.</li>
<li>Quarto is a markdown-based software used to combine code elements and text in order to produce reports that depend on code output.</li>
</ul></li>
<li>Run the <code>main_test.R</code> script to make sure it all works.</li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Rtools version must match the R version installed</p></li></ol></aside></section>
<section id="quarto-introduction" class="slide level2">
<h2>Quarto introduction</h2>
<p>For result analysis, we use <a href="https://quarto.org/docs/guide/">Quarto</a>. It’s a markdownbased format that allows to easily integrate code and text with additional syntax for more complex content, like code blocks, citations, and equations, which makes it accessible for both technical and non-technical users.</p>
<ul>
<li><p><strong>Open-source Publishing Tool</strong>: Quarto is an open-source, next-generation publishing tool that allows users to create and publish documents, reports, presentations, websites, blogs, and more.</p></li>
<li><p><strong>Supports Multiple Formats</strong>: It seamlessly integrates with a variety of output formats, including HTML, PDF (typst, <span class="math inline">\(\LaTeX\)</span>), Word, and ePub, making it versatile for creating different types of content.</p></li>
<li><p><strong>Multiple programming languages </strong>: While it has strong support for R and Python, Quarto also works well with other programming languages.</p></li>
<li><p><strong>Data Visualization and Analysis</strong>: It enables the integration of live code, allowing users to generate and update visualizations and analyses directly in the document, which is ideal for reproducible research.</p></li>
<li><p><strong>Customizable and Extensible</strong>: With options for custom styling, templates, and themes,</p></li>
</ul>
</section>
<section id="live-demo" class="slide level2 center">
<h2>LIVE DEMO</h2>
<p><strong>Basic steps to creating a quarto file</strong></p>
</section>
<section id="basic-folder-strucure-presentation" class="slide level2 scrollable">
<h2>Basic folder strucure presentation</h2>
<ul>
<li><p>The <code>Main_xx.R</code> file: this is the main simulation file</p></li>
<li><p>The <code>configuration</code> folder contains:</p>
<ul>
<li><code>config_input_xx.R</code>: file used to prepare the simulation parameters</li>
<li><code>config_output_xx.R</code>: file used to specify the quarto result templates to be used</li>
<li><code>scenarii_calib</code> folder: folder contains the script to prepare the simulation scenarios (baseline and shocks)</li>
</ul></li>
<li><p>The <code>data</code> folder with the <code>output</code> subfolder: where are stored the simulation results as <code>rds</code> files.</p></li>
<li><p>The <code>results</code> folder contains the pre-programmed quarto templates. Can be used to store your own results.</p></li>
<li><p>The <code>src</code> folder contains a few system files and scripts, many of which are not directly of interest to users, with the exception of:</p>
<ul>
<li><code>model</code>: contains the model files (<code>.mdl</code>), that is the equations and data calibration for models. Users may modify or add <code>mdl</code> files to suit the specifics of their simulations.</li>
<li><code>functions_src</code>: contains user-made, not yet packaged functions. Users may create their own functions and store them in this folder to call upon them automatically.</li>
<li><code>setup.R</code>: loads packages and user-made functions</li>
</ul></li>
</ul>
</section>
<section id="live-demo-1" class="slide level2 center">
<h2>LIVE DEMO</h2>
<p><strong>Overview of the project folder structure</strong></p>
</section>
<section id="complete-exercise-1" class="slide level2">
<h2>Complete Exercise 1</h2>
<p>Installation and tests {#sec-1_1}</p>
<ul>
<li><p>Follow the installation instructions specified in <em>Get Started</em></p></li>
<li><p>Run the file <code>main_test.R</code> to check if everything is working properly</p></li>
<li><p>Familiriaze yourself with the folder structure by locating the following files:</p>
<ul>
<li><code>Main.R</code></li>
<li><code>config_input_MODEL.R</code> and <code>config_output.R</code></li>
<li><code>1_calib_baseline.R</code></li>
<li><code>01-1-eq_one_equation_model.mdl</code></li>
</ul></li>
</ul>
</section>
<section id="the-main.r-file" class="slide level2">
<h2>the <code>Main.R</code> file</h2>
<p><code>Main.R</code> script is built on four steps.</p>
<h3 id="step-0-setup">Step 0: Setup</h3>
<ul>
<li>resets the <code>R</code> environment</li>
<li>loads the necessary libraries and custom functions</li>
<li>reads the simulation configurations (<em>input</em> and <em>output</em>) into the <code>config</code> list.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="do">## 0. Setup</span></span>
<span id="cb1-2"><a></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb1-3"><a></a><span class="fu">source</span>(<span class="fu">file.path</span>(<span class="st">"src"</span>,<span class="st">"setup.R"</span>))</span>
<span id="cb1-4"><a></a></span>
<span id="cb1-5"><a></a></span>
<span id="cb1-6"><a></a>  config <span class="ot">&lt;-</span> <span class="fu">readconfig</span>(<span class="at">input_config_file =</span> <span class="fu">file.path</span>(<span class="st">"configuration"</span>, <span class="st">"config_input_XXX.R"</span>) ,</span>
<span id="cb1-7"><a></a>                      <span class="at">output_config_file =</span> <span class="fu">file.path</span>(<span class="st">"configuration"</span>, <span class="st">"config_output_XXX.R"</span>)</span>
<span id="cb1-8"><a></a>                     )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<h3 id="step-1-calibration-bubble-optional">Step 1: Calibration bubble (<strong>OPTIONAL</strong>)</h3>
<ul>
<li><strong>optional</strong>: by default deactivated</li>
<li>Facilitates the calibration of scenarios</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="do">## 1. OPTIONAL Prepare the baseline and/or shock calibration files by uncommenting the lines</span></span>
<span id="cb2-2"><a></a></span>
<span id="cb2-3"><a></a><span class="co"># ## &gt;&gt;&gt;&gt;&gt;&gt;&gt; uncomment start</span></span>
<span id="cb2-4"><a></a><span class="co"># calibration_bubble &lt;- calibration_environment(baseline_calibration = FALSE)</span></span>
<span id="cb2-5"><a></a><span class="co"># list2env(calibration_bubble, envir = globalenv())</span></span>
<span id="cb2-6"><a></a><span class="co"># </span><span class="al">###</span><span class="co"> You may now open the relevant scenario config file to edit and test it</span></span>
<span id="cb2-7"><a></a><span class="co"># rm(list = names(calibration_bubble))</span></span>
<span id="cb2-8"><a></a><span class="co"># ## &lt;&lt;&lt;&lt;&lt;&lt;&lt; uncomment end</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<h3 id="step-2-run-simulations">Step 2: Run simulations</h3>
<ul>
<li>runs the simulations based on the configuration specified in Step 0</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="do">## 2. Running simulations</span></span>
<span id="cb3-2"><a></a></span>
<span id="cb3-3"><a></a></span>
<span id="cb3-4"><a></a>data_full <span class="ot">&lt;-</span> <span class="fu">run_simulations</span>(<span class="at">configuration =</span> config)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>function running all the necessary steps to simulate the model
<ul>
<li>reading and interpreting <code>.mdl</code> blocks</li>
<li>launching the solver.</li>
<li>returns a database containing simulation results of all the scenarii specified in the configuration input</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<h3 id="step-3.a-produce-selected-result-templates-optional">Step 3.A: Produce selected result templates (<strong>OPTIONAL</strong>)</h3>
<ul>
<li><strong>Optional</strong>: will run predefined quarto templates to explore simulation results</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="do">### 3.A Using templates </span></span>
<span id="cb4-2"><a></a></span>
<span id="cb4-3"><a></a><span class="fu">produce_quartos</span>(<span class="at">Show =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-4"><a></a><span class="fu">cleanup_output</span>(<span class="at">render_dir =</span> <span class="st">"."</span>) <span class="co"># to clean older html renders, keeping the last versions only</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Templates are selected in the <code>config_output</code> file</li>
<li>Activating the <code>Show</code> argument by selecting <code>TRUE</code> will display automatically the results in your web browser</li>
</ul>
</section>
<section class="slide level2">

<h3 id="step-3.b-render-your-own-quarto-document-optional">Step 3.B: Render your own quarto document (<strong>OPTIONAL</strong>)</h3>
<ul>
<li><strong>Optional</strong>: to render a user-made quarto file to view and analyze your results.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a><span class="do">### 3.B Your own quarto file</span></span>
<span id="cb5-2"><a></a>output_file <span class="ot">=</span> <span class="fu">paste0</span>(<span class="st">"Results_"</span>,config<span class="sc">$</span>input<span class="sc">$</span>project_name,<span class="st">".html"</span>)</span>
<span id="cb5-3"><a></a></span>
<span id="cb5-4"><a></a>quarto<span class="sc">::</span><span class="fu">quarto_render</span>(<span class="at">input =</span> <span class="fu">file.path</span>(<span class="st">"my_quarto.qmd"</span>),</span>
<span id="cb5-5"><a></a>                      <span class="at">output_file =</span> output_file,</span>
<span id="cb5-6"><a></a>                      <span class="at">output_format =</span> <span class="st">"html"</span>,</span>
<span id="cb5-7"><a></a>                      <span class="at">execute_params =</span> <span class="fu">list</span>(<span class="at">scenario =</span> config<span class="sc">$</span>input<span class="sc">$</span>scenario)</span>
<span id="cb5-8"><a></a>                      )</span>
<span id="cb5-9"><a></a></span>
<span id="cb5-10"><a></a><span class="fu">browseURL</span>(<span class="fu">file.path</span>(<span class="st">"results/quarto_render/"</span>, output_file) )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In order to use it :</p>
<ul>
<li>create, edit and save your own <code>.qmd</code> file (ie <code>my_quarto.qmd</code>). <strong>Save it at the root of the folder</strong></li>
<li>execute the line to render the file.</li>
<li><code>browseURL</code> line will open the rendered output in your web browser</li>
</ul>
</section>
<section id="complete-exercise-2-part-1" class="slide level2">
<h2>Complete Exercise 2 (part 1)</h2>
<ul>
<li><p>Create a copy of the <code>Main.R</code> file (call it <code>Main_one_eq.R</code> for example) in the root folder</p></li>
<li><p>On your new <code>Main</code> file, call the the config files : <code>config_input_one_eq.R</code>, and <code>config_output_one_eq.R</code>.</p></li>
<li><p>Run the simulation and generate the results from templates.</p>
<ul>
<li>From the results, what do you think happens in this shock scenario?</li>
</ul></li>
</ul>
</section>
<section id="the-output-database-data_full" class="slide level2">
<h2>The output database : <code>data_full</code></h2>
<p>The structure of output simulations is standardised as a simple <code>data.frame</code> object with standardised column names in order to facilitate the usage of functions and templates on the outputs.</p>
<p>Below is a random sample of the <code>data_full</code> database created from the <code>run_simulations()</code> command.</p>
<div class="cell" title="data_full" data-filename="bridge_c17_s17.R">
<div class="cell-output cell-output-stdout">
<pre><code>   variable year sector commodity   values_ref scenario       values index_scen
1         X 2029   &lt;NA&gt;      &lt;NA&gt; 8.126788e+05      ct1 8.045883e+05          0
2        LF 2027   &lt;NA&gt;      &lt;NA&gt; 3.006458e+04      ct1 3.006458e+04          0
3         M 2045   &lt;NA&gt;      &lt;NA&gt; 1.042432e+06      ct1 1.037381e+06          0
4        PX 2042   &lt;NA&gt;      &lt;NA&gt; 1.576899e+00 baseline 1.576899e+00          1
5         M 2047   &lt;NA&gt;      &lt;NA&gt; 1.068708e+06      ct1 1.063425e+06          0
6       PCI 2023   &lt;NA&gt;      &lt;NA&gt; 1.082432e+00      ct1 1.094065e+00          0
7        PX 2045   &lt;NA&gt;      &lt;NA&gt; 1.673418e+00      ct1 1.705873e+00          0
8       PVA 2030   &lt;NA&gt;      &lt;NA&gt; 1.243374e+00      ct1 1.262678e+00          0
9       GDP 2030   &lt;NA&gt;      &lt;NA&gt; 2.804996e+06 baseline 2.804996e+06          1
10       CH 2038   &lt;NA&gt;      &lt;NA&gt; 1.674527e+06 baseline 1.674527e+06          1</code></pre>
</div>
</div>
<p>By default the table is sorted by variable, year and scenario in this order.</p>
<div class="cell" title="data_full" data-filename="bridge_c17_s17.R">
<div class="cell-output cell-output-stdout">
<pre><code>  variable year sector commodity values_ref scenario   values index_scen
1      C_L 2019   &lt;NA&gt;      &lt;NA&gt;   55.09293 baseline 55.09293          1
2      C_L 2019   &lt;NA&gt;      &lt;NA&gt;   55.09293      ct1 55.09293          0
3      C_L 2020   &lt;NA&gt;      &lt;NA&gt;   56.75674 baseline 56.75674          1
4      C_L 2020   &lt;NA&gt;      &lt;NA&gt;   56.75674      ct1 56.75674          0
5      C_L 2021   &lt;NA&gt;      &lt;NA&gt;   58.47079 baseline 58.47079          1
6      C_L 2021   &lt;NA&gt;      &lt;NA&gt;   58.47079      ct1 58.45938          0</code></pre>
</div>
</div>
</section>
<section id="data-columns" class="slide level2">
<h2>Data columns</h2>
<p><code>data_full</code> is made up of 8 columns:</p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1"><code>variable</code></a></li><li><a href="#tabset-1-2"><code>year</code></a></li><li><a href="#tabset-1-3"><code>sector</code></a></li><li><a href="#tabset-1-4"><code>commodity</code></a></li><li><a href="#tabset-1-5"><code>scenario</code></a></li><li><a href="#tabset-1-6"><code>values_ref</code></a></li><li><a href="#tabset-1-7"><code>values</code></a></li><li><a href="#tabset-1-8"><code>index_scen</code></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<p>type <code>[string]</code></p>
<p>This column contains the name of the variables. The variables names are always alphanumerical characters (including underscores) in UPPERCASE.</p>
</div>
<div id="tabset-1-2">
<p>type <code>[integer]</code></p>
<p>This column contains the year of the observation. It serves as the time series identifier, which does not necessarily have to be a calendar year. It could be identified by sequence of integer in any range (ie 1 to 10). The name <code>year</code> is a mainly a legacy feature.</p>
</div>
<div id="tabset-1-3">
<p>type <code>[string]</code></p>
<p>This is a ThreeME specific item that can be used by any model using a similar list system to identify sectors. This is only a label variable. Its value is by default <code>NA</code> unless the <code>variable</code> is considered to be a sector specific variable, in which case the value reported will be either the sector code or the sector name if a <code>codenames</code> file has been properly configured.</p>
</div>
<div id="tabset-1-4">
<p>type <code>[string]</code></p>
<p>This is a ThreeME specific item that can be used by any model using a similar list system to identify commodities. This is only a label variable. Its value is by default <code>NA</code> unless the <code>variable</code> is considered to be a commodity specific variable, in which case the value reported will be either the commodity code or the commodity name if a <code>codenames</code> file has been properly configured.</p>
</div>
<div id="tabset-1-5">
<p>type <code>[string]</code></p>
<p>This is the (short) name of the scenario, as specified in the <code>scenario</code> argument of the <code>config_input</code> file.</p>
</div>
<div id="tabset-1-6">
<p>type <code>[numeric]</code></p>
<p>This column contains the chosen reference scenario value. The reference scenario is the one specified in the <code>scenario_baseline</code> argument in the <code>config_input</code>.<sup>1</sup></p>
</div>
<div id="tabset-1-7">
<p>type <code>[numeric]</code></p>
<p>This column contains simulated value for the observation. This is where the main outputs are found.</p>
</div>
<div id="tabset-1-8">
<p>type <code>[dummy]</code></p>
<p>This variable takes the value <strong>1</strong> if the scenario is baseline or <strong>0</strong> otherwise. It’s main purpose is to quickly filter out the <em>baseline</em> scenario from the database. The information given for this variable is essentially redundant with the information from the <code>scenario</code> column.</p>
</div>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>On an unmodified <code>data_full</code> from the simulations, for the <em>baseline</em> scenario the values in <code>values</code> and <code>values_ref</code> are equal.</p></li></ol></aside></section>
<section id="understanding-the-observations-rows-of-data_full" class="slide level2">
<h2>Understanding the observations (rows of <code>data_full</code>)</h2>
<p><br></p>
<p><code>data_full</code> is organised as a long-form <code>data.frame</code>, that is all the model variables are listed in a single columns, as well as all the observations values.</p>
<p><strong>The minimum observation identifier variables are : the <code>variable</code>, the <code>year</code> and the <code>scenario</code></strong></p>
<ul>
<li>to extract data use <code>dplyr::filter</code></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a>data_full <span class="sc">|&gt;</span> <span class="fu">filter</span>(variable <span class="sc">%in%</span> <span class="st">"CH"</span>) <span class="sc">|&gt;</span>  <span class="fu">filter</span>(scenario <span class="sc">%in%</span> <span class="st">"ct1"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>to create new variable, transform the data in <em>wide format</em>, make your transformations, and turn it back into <em>long format</em> [Advanced, for next session]</li>
</ul>
</section>
<section id="config_input-to-specify-the-parameters-of-the-simulation" class="slide level2 center">
<h2><code>config_input</code>: to specify the parameters of the simulation</h2>
<ul>
<li>To configure the simulation, use the <code>config_input_MODEL.R</code> found in the <code>configuration</code> folder.</li>
</ul>
<p><code>config_input_MODEL.R</code> is meant to be a template, so it is advised to make a copy for your own usage.</p>
</section>
<section id="config_input-structure-of-the-file---basic-parameters" class="slide level2 scrollable">
<h2><code>config_input</code>: Structure of the file - Basic parameters</h2>
<p>The first section of the <code>config_input</code> file contains the basic parameters that need to be adapted for each simulation :</p>
<ul>
<li><code>iso3</code>: the country code, useful if using a ThreeME model, make sure ta version of ThreeME exists for the country in question<br>
</li>
<li><code>classification</code>: if using a ThreeME model number of commodities and sectors with the following format <code>cx_sy</code> where <code>x</code> is the number of commodities and <code>x</code> the number of sectors. Check that the desired classification exists in the mdl files</li>
<li><code>model_folder</code>: the folder where to find the <code>mdl</code> files (either <code>training</code> or <code>threeme</code> usually)</li>
<li><code>project_name</code>: name to give your project, must be alphanumeric and underscore characters only. No accents. lowercase only</li>
<li><code>scenario_baseline</code> : Name of the baseline scenario. By default it is « baseline-steady ». It may be modified if the baseline needs to integrate some user-specified trajectories of exogenous variables. All scenarii files are located in configuration/scenarii_calib</li>
<li><code>scenario</code>: Name of scenario(s) to run. Make sure a file 2_calib_shock_NAMEOFSCENARIO exists in the <code>configuration/scenarii_calib</code> folders. Scenario naes must be alphanumeric and underscores in lowercase only. The <code>scenario</code> parameter can be a named vector in order to give more information about the scenario that can be reused in results outputs, e.g.:</li>
</ul>
<ul>
<li><code>baseyear</code>: Input the base year used for the calibration data</li>
<li><code>lastyear</code>: Last year of the simulations</li>
<li><code>shockyear</code>: year of the shock. This is an optional parameter that can be called upon when calibrating shocks</li>
<li><code>max_lags</code>: maximum lags used in the model, to know how far back the database must go in order for the solver to evaluate all model equations.</li>
<li><code>firstyear</code>: By default this is <code>baseyear - max_lags</code> (rarely needs to be modified)</li>
<li><code>automated_shocks</code>: Set to TRUE if you want to use automated shocks, that will read one unique shock scenario file that can run different calibrations according to the scenario name (<em>needs further documentation</em>)</li>
<li><code>variables_to_keep</code>: Vector of variables to keep in the output. Input an empty vector (<code>c()</code>) in order to keep all variables.</li>
</ul>
</section>
<section id="config_input-structure-of-the-file---model-file-lists" class="slide level2">
<h2><code>config_input</code>: Structure of the file - Model file lists</h2>
<p>The second sections contains <code>mdl</code> file lists. In three parts, there are:</p>
<ul>
<li><code>list_files</code> : basic files (maily for ThreeME, does not need to be modified)</li>
<li><code>calib_files</code>: <code>mdl</code> files that contain data calibration equations</li>
<li><code>model_files</code>: <code>mdl</code> files that contain the models equations.</li>
</ul>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Training model</a></li><li><a href="#tabset-2-2">ThreeME model</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r code-overflow-scroll number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>lists_files <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb9-2"><a></a>  <span class="st">"lists.mdl"</span> </span>
<span id="cb9-3"><a></a>)</span>
<span id="cb9-4"><a></a></span>
<span id="cb9-5"><a></a><span class="do">## Calibration files</span></span>
<span id="cb9-6"><a></a>calib_files <span class="ot">&lt;-</span> <span class="fu">c</span>(lists_files,</span>
<span id="cb9-7"><a></a>                 <span class="st">"03.1-calib.mdl"</span>,     <span class="co"># Close economy</span></span>
<span id="cb9-8"><a></a>                 <span class="st">"03.2-calib.mdl"</span>,     <span class="co"># Open economy</span></span>
<span id="cb9-9"><a></a>                 </span>
<span id="cb9-10"><a></a>                 <span class="st">"ENDOFLINE.mdl"</span>       <span class="co"># ALL VERSIONS: empty file</span></span>
<span id="cb9-11"><a></a>                 </span>
<span id="cb9-12"><a></a>)</span>
<span id="cb9-13"><a></a></span>
<span id="cb9-14"><a></a><span class="co"># Model files </span></span>
<span id="cb9-15"><a></a>model_files <span class="ot">=</span> <span class="fu">c</span>(lists_files,</span>
<span id="cb9-16"><a></a>                </span>
<span id="cb9-17"><a></a>                <span class="st">"03.1-eq.mdl"</span>,         <span class="co"># Close economy </span></span>
<span id="cb9-18"><a></a>                <span class="st">"03.2-eq.mdl"</span>,         <span class="co"># Close economy</span></span>
<span id="cb9-19"><a></a>                </span>
<span id="cb9-20"><a></a>                <span class="st">"ENDOFLINE.mdl"</span>        <span class="co"># ALL VERSIONS: empty file</span></span>
<span id="cb9-21"><a></a>                </span>
<span id="cb9-22"><a></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r code-overflow-scroll number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="do">## Lists files (warning: if more than one, place "lists.mdl" last)</span></span>
<span id="cb10-2"><a></a>lists_files <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb10-3"><a></a>    <span class="fu">str_c</span>(<span class="st">"R_lists_"</span>, iso3,<span class="st">"_"</span>,classification, <span class="st">".mdl"</span>),             <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-4"><a></a>    <span class="st">"lists.mdl"</span>                                                     <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-5"><a></a>  )</span>
<span id="cb10-6"><a></a></span>
<span id="cb10-7"><a></a><span class="do">## Calibration files (used to initialize variables)</span></span>
<span id="cb10-8"><a></a>calib_files <span class="ot">=</span> <span class="fu">c</span>(lists_files,</span>
<span id="cb10-9"><a></a>  <span class="fu">str_c</span>(<span class="st">"data/R_Calibration_"</span>, iso3,<span class="st">"_"</span>,classification,<span class="st">"_"</span>,baseyear, <span class="st">".mdl"</span>),   <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-10"><a></a>  <span class="st">"data/parameters.mdl"</span>,                     <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-11"><a></a>     </span>
<span id="cb10-12"><a></a>  <span class="do">## Calibration of elasticity of substitutions (Producer)</span></span>
<span id="cb10-13"><a></a>  <span class="st">"data/elasticities.mdl"</span>,                   <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-14"><a></a>  <span class="st">"data/Exception_NestedCES_data.mdl"</span>,     <span class="co"># NESTED CES (PRODUCER) VERSION</span></span>
<span id="cb10-15"><a></a>  <span class="st">"data/round0.mdl"</span>,                         <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-16"><a></a>  <span class="st">"data/Prices_data.mdl"</span>,                    <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-17"><a></a>  <span class="st">"data/SU_data.mdl"</span>,                        <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-18"><a></a>  <span class="st">"data/Special_data.mdl"</span>,                   <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-19"><a></a>  <span class="st">"data/Other_data.mdl"</span>,                     <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-20"><a></a>  <span class="st">"data/Exception_taxes_prices_data.mdl"</span>,    <span class="co"># ALL VERSIONS (when commodity tax rate per user)</span></span>
<span id="cb10-21"><a></a>  </span>
<span id="cb10-22"><a></a>  <span class="do">## Optional Consumer blocks</span></span>
<span id="cb10-23"><a></a>  <span class="co"># "data/Exception_ConsumerNested_data.mdl",  # NESTED CES (CONSUMER) VERSION</span></span>
<span id="cb10-24"><a></a></span>
<span id="cb10-25"><a></a>  <span class="st">"data/Exception_Other_data.mdl"</span>,           <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-26"><a></a>  <span class="co"># "data/Exception_energybalance_simple.mdl",  # ALL VERSIONS: Only net energy production (Y_TOE). Gross primary energy </span></span>
<span id="cb10-27"><a></a>  </span>
<span id="cb10-28"><a></a>  <span class="st">"ENDOFLINE.mdl"</span>                          <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-29"><a></a>)</span>
<span id="cb10-30"><a></a></span>
<span id="cb10-31"><a></a><span class="co"># Model files </span></span>
<span id="cb10-32"><a></a>model_files <span class="ot">=</span> <span class="fu">c</span>(lists_files,</span>
<span id="cb10-33"><a></a>  <span class="st">"SU.mdl"</span>,                     <span class="co"># ALL VERSIONS </span></span>
<span id="cb10-34"><a></a>  <span class="st">"Prices.mdl"</span>,                 <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-35"><a></a>  <span class="st">"Producer.mdl"</span>,               <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-36"><a></a>  <span class="st">"Consumer.mdl"</span>,               <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-37"><a></a>  <span class="st">"Government.mdl"</span>,             <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-38"><a></a>  <span class="st">"Trade_inter.mdl"</span>,            <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-39"><a></a>  <span class="st">"Demography.mdl"</span>,             <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-40"><a></a>  <span class="st">"Adjustments.mdl"</span>,            <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-41"><a></a>  <span class="st">"Verif.mdl"</span>,                  <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-42"><a></a>  <span class="st">"ghg_emissions.mdl"</span>,          <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-43"><a></a>  </span>
<span id="cb10-44"><a></a>  <span class="co"># Option energy balance blocks</span></span>
<span id="cb10-45"><a></a>  <span class="st">"energybalance.mdl"</span>,          <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-46"><a></a></span>
<span id="cb10-47"><a></a>  <span class="do">## Exception files ALWAYS at the end because of the @overs</span></span>
<span id="cb10-48"><a></a>  <span class="co"># "Exception_taxes_prices.mdl",           # ALL VERSIONS</span></span>
<span id="cb10-49"><a></a>  <span class="st">"Exception_taxes_prices_new.mdl"</span>,           <span class="co"># New version where taxes are divided by different users</span></span>
<span id="cb10-50"><a></a>  <span class="co"># "Exception_NestedCES.mdl",            # NESTED CES (PRODUCER) VERSION</span></span>
<span id="cb10-51"><a></a>  <span class="co"># "Exception_ConsumerNested.mdl",       # NESTED CES (CONSUMER) VERSION</span></span>
<span id="cb10-52"><a></a></span>
<span id="cb10-53"><a></a>  <span class="st">"Exception_Other.mdl"</span>,                   <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-54"><a></a>  </span>
<span id="cb10-55"><a></a>  </span>
<span id="cb10-56"><a></a>  <span class="st">"ENDOFLINE.mdl"</span>                          <span class="co"># ALL VERSIONS</span></span>
<span id="cb10-57"><a></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="config_output-to-specify-output-templates-to-analyse-the-simulation-resutls" class="slide level2">
<h2><code>config_output</code>: to specify output templates to analyse the simulation resutls</h2>
<p><br></p>
<p><code>config_output.R</code> is used to produce pre-programmed result templates. The templates are located in the <code>results/quarto_templates</code>.</p>
<p>-Quarto templates are not meant to be rendered directly due to their location in the folder, which makes accessing dependencies rather complicated. Instead, to use templates, we use the function <code>produce_quartos()</code> that calls upon the parameters found in the <code>config_output</code> file.</p>
<ul>
<li><p>To configure the simulation, use the <code>config_output_MODEL.R</code> found in the <code>configuration</code> folder.</p></li>
<li><p><code>config_output_MODEL.R</code> is meant to be a template, so it is advised to make a copy for your own usage.</p></li>
</ul>
</section>
<section id="config_output---file-structure" class="slide level2">
<h2><code>config_output</code> - File Structure</h2>
<p>Divided in two parts:</p>
<h4 id="designation-of-templates-to-produce">designation of templates to produce</h4>
<div class="cell">
<details class="code-fold">
<summary>Templates to call</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a>quartos_to_render <span class="ot">&lt;-</span><span class="fu">list</span>(</span>
<span id="cb11-2"><a></a>  </span>
<span id="cb11-3"><a></a>  <span class="at">basic_results =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-4"><a></a>  <span class="at">texdoc =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-5"><a></a>  <span class="at">model_info =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-6"><a></a>  <span class="at">sectoral_results =</span> <span class="cn">FALSE</span></span>
<span id="cb11-7"><a></a>  </span>
<span id="cb11-8"><a></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<h4 id="templates-parameters">Templates parameters</h4>
<p>For each template available, each parameters from their respective YAML is listed and can be modified as such. Objects from the input configuration can be used by simply stating their name as in the example for <code>basic_results</code>.</p>
<div class="cell">
<details class="code-fold">
<summary>Templates parameters</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r code-overflow-scroll number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a>quartos_parameters <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb12-2"><a></a>  </span>
<span id="cb12-3"><a></a>  <span class="at">basic_results =</span> <span class="fu">list</span>(</span>
<span id="cb12-4"><a></a>    <span class="at">project_name =</span> project_name,</span>
<span id="cb12-5"><a></a>    <span class="at">startyear =</span> <span class="dv">2019</span>,</span>
<span id="cb12-6"><a></a>    <span class="at">shockyear =</span> shockyear,</span>
<span id="cb12-7"><a></a>    <span class="at">endyear =</span> lastyear,</span>
<span id="cb12-8"><a></a>    <span class="at">scenarios =</span> <span class="fu">unname</span>(scenario)  <span class="co"># List of scenarii to be plotted</span></span>
<span id="cb12-9"><a></a>  ),</span>
<span id="cb12-10"><a></a>  </span>
<span id="cb12-11"><a></a>  <span class="at">texdoc =</span> <span class="fu">list</span>(</span>
<span id="cb12-12"><a></a>    </span>
<span id="cb12-13"><a></a>    <span class="at">project_name =</span> project_name,</span>
<span id="cb12-14"><a></a>    <span class="at">texdoc_mdls =</span> <span class="st">"default"</span>,</span>
<span id="cb12-15"><a></a>    <span class="at">texdoc_exovar =</span> <span class="st">"03.2-exovar.mdl"</span>,</span>
<span id="cb12-16"><a></a>    <span class="at">model_files =</span> model_files,</span>
<span id="cb12-17"><a></a>    <span class="at">mdl_folder =</span> model_folder</span>
<span id="cb12-18"><a></a>  ),</span>
<span id="cb12-19"><a></a>  </span>
<span id="cb12-20"><a></a>  <span class="at">model_info =</span> <span class="fu">list</span>(</span>
<span id="cb12-21"><a></a>    <span class="at">baseyear =</span>  baseyear,</span>
<span id="cb12-22"><a></a>    <span class="at">lastyear =</span> lastyear,</span>
<span id="cb12-23"><a></a>    <span class="at">classification =</span> classification,</span>
<span id="cb12-24"><a></a>    <span class="at">scenario_baseline =</span> scenario_baseline,</span>
<span id="cb12-25"><a></a>    <span class="at">shocks =</span> scenario,</span>
<span id="cb12-26"><a></a>    <span class="at">calib_files =</span> calib_files,</span>
<span id="cb12-27"><a></a>    <span class="at">model_files =</span> model_files,</span>
<span id="cb12-28"><a></a>    <span class="at">rsolver =</span>  Rsolver,</span>
<span id="cb12-29"><a></a>    <span class="at">project_name =</span> project_name</span>
<span id="cb12-30"><a></a>  ),</span>
<span id="cb12-31"><a></a>  </span>
<span id="cb12-32"><a></a>  </span>
<span id="cb12-33"><a></a>  <span class="at">sectoral_results =</span> <span class="fu">list</span>(</span>
<span id="cb12-34"><a></a>    <span class="at">project_name =</span> project_name</span>
<span id="cb12-35"><a></a>  )</span>
<span id="cb12-36"><a></a></span>
<span id="cb12-37"><a></a>  </span>
<span id="cb12-38"><a></a>  </span>
<span id="cb12-39"><a></a>  )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="mdl-equation-files" class="slide level2">
<h2><code>mdl</code> Equation files</h2>
<p><br></p>
<ul>
<li>They contain the equations of the model</li>
<li>can be organised in any order</li>
<li>first variable that appears on the LHS is the endogenous variable determined by the model</li>
<li>simple syntax</li>
<li>can be organised in sections</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r code-overflow-scroll number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="do">##### Endogenous variables' equations</span></span>
<span id="cb13-2"><a></a></span>
<span id="cb13-3"><a></a><span class="do">##! Investement</span></span>
<span id="cb13-4"><a></a>I <span class="ot">=</span> Y <span class="sc">-</span> CH <span class="sc">-</span> G</span>
<span id="cb13-5"><a></a></span>
<span id="cb13-6"><a></a><span class="do">##! Production (GDP)</span></span>
<span id="cb13-7"><a></a>Y <span class="sc">*</span> p <span class="ot">=</span> w<span class="sc">*</span>L <span class="sc">+</span> p<span class="sc">*</span>(delta <span class="sc">+</span> r)<span class="sc">*</span>K</span>
<span id="cb13-8"><a></a><span class="co"># Y = ((Phi_L * (L*PROG_L) ^ ((rho-1)/rho )) + (Phi_K * (K*PROG_K) ^ ((rho-1)/rho )))^(rho/(rho-1))</span></span>
<span id="cb13-9"><a></a><span class="co"># Mettre alternative possible: Fonction de production directement</span></span>
<span id="cb13-10"><a></a></span>
<span id="cb13-11"><a></a><span class="do">##! Households'consumption</span></span>
<span id="cb13-12"><a></a> CH <span class="ot">=</span> (<span class="dv">1</span> <span class="sc">-</span> sigma) <span class="sc">*</span> (w<span class="sc">*</span>L <span class="sc">+</span> p<span class="sc">*</span>r<span class="sc">*</span>K) <span class="sc">/</span> p</span>
<span id="cb13-13"><a></a><span class="co"># d(log(CH)) = d(log(Y{-1}))</span></span>
<span id="cb13-14"><a></a></span>
<span id="cb13-15"><a></a><span class="do">##! Wage (from cost minimization assuming a CES function)</span></span>
<span id="cb13-16"><a></a>w <span class="sc">+</span> L <span class="ot">=</span> ((Y <span class="sc">/</span> PROG_L) <span class="sc">*</span> ((Phi_L) <span class="sc">^</span> rho) <span class="sc">*</span> (w<span class="sc">/</span>(p <span class="sc">*</span> PROG_L)) <span class="sc">^</span> (<span class="sc">-</span>rho)) <span class="sc">+</span> w</span>
<span id="cb13-17"><a></a><span class="co"># w / (p * PROG_L) = Phi_L * (Y / (L * PROG_L)) ^ (1 / rho)</span></span>
<span id="cb13-18"><a></a> </span>
<span id="cb13-19"><a></a></span>
<span id="cb13-20"><a></a><span class="do">##! Interest rate (from cost minimization assuming a CES function)</span></span>
<span id="cb13-21"><a></a>r <span class="sc">+</span> K <span class="ot">=</span> ((Y <span class="sc">/</span> PROG_K) <span class="sc">*</span> ((Phi_K) <span class="sc">^</span> rho) <span class="sc">*</span> ((delta <span class="sc">+</span> r)<span class="sc">/</span>PROG_K) <span class="sc">^</span> (<span class="sc">-</span>rho)) <span class="sc">+</span> r</span>
<span id="cb13-22"><a></a><span class="co"># (r + delta)/PROG_K  = Phi_K * (Y / (K * PROG_K)) ^ (1/rho)</span></span>
<span id="cb13-23"><a></a></span>
<span id="cb13-24"><a></a><span class="do">##! Capital (from accumulation equation)</span></span>
<span id="cb13-25"><a></a><span class="fu">d</span>(K) <span class="ot">=</span> I{<span class="sc">-</span><span class="dv">1</span>} <span class="sc">-</span> delta <span class="sc">*</span> K{<span class="sc">-</span><span class="dv">1</span>}</span>
<span id="cb13-26"><a></a></span>
<span id="cb13-27"><a></a><span class="do">##! Price </span></span>
<span id="cb13-28"><a></a>p <span class="ot">=</span> <span class="dv">1</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mdl-data-calibration-files" class="slide level2">
<h2><code>mdl</code> Data calibration files</h2>
<p><br></p>
<ul>
<li><p>Data calibration files are used to determine the value at the baseyear of endogenous variables, and the default values of exogenous variables.</p></li>
<li><p>Can enter numbers or equations (for the trends)</p></li>
<li><p>The program will check if the calibration is properly balanced</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r code-overflow-scroll number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="do">## Long term equilibrium</span></span>
<span id="cb14-2"><a></a><span class="co"># Growth rate of labor productivity</span></span>
<span id="cb14-3"><a></a>GR_PROD_L <span class="sc">:</span><span class="er">=</span> <span class="fl">0.01</span></span>
<span id="cb14-4"><a></a></span>
<span id="cb14-5"><a></a><span class="co"># Growth rate of population</span></span>
<span id="cb14-6"><a></a>GR_POP <span class="sc">:</span><span class="er">=</span> <span class="fl">0.005</span></span>
<span id="cb14-7"><a></a></span>
<span id="cb14-8"><a></a><span class="co"># Growth rate of prices (Inflation)</span></span>
<span id="cb14-9"><a></a>GR_PRICE <span class="sc">:</span><span class="er">=</span> <span class="fl">0.02</span></span>
<span id="cb14-10"><a></a></span>
<span id="cb14-11"><a></a><span class="co"># Long-term growth</span></span>
<span id="cb14-12"><a></a>mu <span class="sc">:</span><span class="er">=</span> (<span class="dv">1</span> <span class="sc">+</span> GR_PROD_L)<span class="sc">*</span>(<span class="dv">1</span> <span class="sc">+</span> GR_POP) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb14-13"><a></a>GR_nml <span class="sc">:</span><span class="er">=</span> (<span class="dv">1</span><span class="sc">+</span>mu) <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">+</span> GR_PRICE) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb14-14"><a></a>GR_w_nml <span class="sc">:</span><span class="er">=</span> (<span class="dv">1</span> <span class="sc">+</span> GR_PROD_L) <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">+</span> GR_PRICE) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb14-15"><a></a></span>
<span id="cb14-16"><a></a></span>
<span id="cb14-17"><a></a><span class="do">## Parameter of the models</span></span>
<span id="cb14-18"><a></a></span>
<span id="cb14-19"><a></a><span class="do">##! Capital depreciation ratio</span></span>
<span id="cb14-20"><a></a>delta <span class="sc">:</span><span class="er">=</span> <span class="fl">0.05</span></span>
<span id="cb14-21"><a></a></span>
<span id="cb14-22"><a></a><span class="do">##! Elasticity of substitution between capital and labor (CES function)</span></span>
<span id="cb14-23"><a></a>rho <span class="sc">:</span><span class="er">=</span> <span class="fl">0.1</span></span>
<span id="cb14-24"><a></a></span>
<span id="cb14-25"><a></a><span class="do">##! Adjustment parameter of investment to notional capital</span></span>
<span id="cb14-26"><a></a>alpha_I_Kn <span class="sc">:</span><span class="er">=</span> <span class="fl">0.1</span></span>
<span id="cb14-27"><a></a></span>
<span id="cb14-28"><a></a><span class="do">## Variables calibrated on real data</span></span>
<span id="cb14-29"><a></a></span>
<span id="cb14-30"><a></a><span class="do">##! Interest rate</span></span>
<span id="cb14-31"><a></a>r <span class="sc">:</span><span class="er">=</span> <span class="fl">0.1</span></span>
<span id="cb14-32"><a></a></span>
<span id="cb14-33"><a></a><span class="do">##! Price </span></span>
<span id="cb14-34"><a></a>p <span class="sc">:</span><span class="er">=</span> <span class="dv">1</span> <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">+</span> GR_PRICE)<span class="sc">^</span>(<span class="sc">@</span>year <span class="sc">-</span> %baseyear)</span>
<span id="cb14-35"><a></a></span>
<span id="cb14-36"><a></a><span class="co"># Labor</span></span>
<span id="cb14-37"><a></a>L <span class="sc">:</span><span class="er">=</span>  <span class="dv">1000</span> <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">+</span> GR_POP)<span class="sc">^</span>(<span class="sc">@</span>year <span class="sc">-</span> %baseyear)</span>
<span id="cb14-38"><a></a></span>
<span id="cb14-39"><a></a><span class="co"># Production</span></span>
<span id="cb14-40"><a></a>Y <span class="sc">:</span><span class="er">=</span> <span class="dv">100</span> <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">+</span> mu)<span class="sc">^</span>(<span class="sc">@</span>year <span class="sc">-</span> %baseyear)</span>
<span id="cb14-41"><a></a></span>
<span id="cb14-42"><a></a><span class="co"># Investment</span></span>
<span id="cb14-43"><a></a>I <span class="sc">:</span><span class="er">=</span>  <span class="dv">20</span> <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">+</span> mu)<span class="sc">^</span>(<span class="sc">@</span>year <span class="sc">-</span> %baseyear)</span>
<span id="cb14-44"><a></a></span>
<span id="cb14-45"><a></a><span class="co"># Public spending</span></span>
<span id="cb14-46"><a></a>G <span class="sc">:</span><span class="er">=</span>  <span class="dv">15</span>  <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">+</span> mu)<span class="sc">^</span>(<span class="sc">@</span>year <span class="sc">-</span> %baseyear)</span>
<span id="cb14-47"><a></a></span>
<span id="cb14-48"><a></a><span class="do">## Calibration derived from equations</span></span>
<span id="cb14-49"><a></a><span class="co"># Consumption</span></span>
<span id="cb14-50"><a></a>CH <span class="sc">:</span><span class="er">=</span> Y <span class="sc">-</span> I <span class="sc">-</span> G</span>
<span id="cb14-51"><a></a></span>
<span id="cb14-52"><a></a><span class="co"># Wage</span></span>
<span id="cb14-53"><a></a>w<span class="sc">*</span>L <span class="sc">:</span><span class="er">=</span> p<span class="sc">*</span>Y <span class="sc">-</span> p<span class="sc">*</span>(delta <span class="sc">+</span> r)<span class="sc">*</span>K</span>
<span id="cb14-54"><a></a></span>
<span id="cb14-55"><a></a><span class="co"># Long-term savings rate</span></span>
<span id="cb14-56"><a></a>(<span class="dv">1</span> <span class="sc">-</span> sigma) <span class="sc">:</span><span class="er">=</span> p <span class="sc">*</span> CH <span class="sc">/</span> (w<span class="sc">*</span>L <span class="sc">+</span> p<span class="sc">*</span>r<span class="sc">*</span>K)</span>
<span id="cb14-57"><a></a></span>
<span id="cb14-58"><a></a><span class="co"># Capital Stock</span></span>
<span id="cb14-59"><a></a>K <span class="sc">:</span><span class="er">=</span> I <span class="sc">/</span> (delta <span class="sc">+</span> mu)</span>
<span id="cb14-60"><a></a></span>
<span id="cb14-61"><a></a>K_n <span class="sc">:</span><span class="er">=</span> K</span>
<span id="cb14-62"><a></a></span>
<span id="cb14-63"><a></a><span class="do">##! Labor technical progress (CES function)</span></span>
<span id="cb14-64"><a></a>PROG_L <span class="sc">:</span><span class="er">=</span> Y <span class="sc">/</span> L </span>
<span id="cb14-65"><a></a></span>
<span id="cb14-66"><a></a><span class="do">##! Capital technical progress (CES function)</span></span>
<span id="cb14-67"><a></a>PROG_K <span class="sc">:</span><span class="er">=</span> Y <span class="sc">/</span> K</span>
<span id="cb14-68"><a></a></span>
<span id="cb14-69"><a></a><span class="co"># Labour share in production function</span></span>
<span id="cb14-70"><a></a>Phi_L <span class="sc">:</span><span class="er">=</span> w <span class="sc">*</span> L <span class="sc">/</span> (p <span class="sc">*</span> Y)</span>
<span id="cb14-71"><a></a></span>
<span id="cb14-72"><a></a><span class="co"># Capital share in production function</span></span>
<span id="cb14-73"><a></a>Phi_K <span class="sc">:</span><span class="er">=</span> p <span class="sc">*</span> (r <span class="sc">+</span> delta) <span class="sc">*</span> K <span class="sc">/</span> (p <span class="sc">*</span> Y)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="calibration-error" class="slide level2">
<h2>Calibration error</h2>
<p><br></p>
<p>Change the calibration for public expenditure and have a look at the calibration error.</p>
<ul>
<li>Change in the calibration file « 01.1-calib.mdl » the value of G. Put <strong>G := 26</strong> instead of <strong>G : = 15</strong><br>
</li>
<li>Save the calibration file.</li>
<li>Run the <code>main</code></li>
</ul>
<p><strong>What do you notice?</strong></p>
</section>
<section id="complete-exercise-2-part-2" class="slide level2">
<h2>Complete Exercise 2 (part 2)</h2>
<ul>
<li><p>Look into the data_full database (you can do this in the <code>Main_one_eq.R</code> file)</p>
<ul>
<li>Create a variable rel_diff that computes the relative difference.</li>
<li>Compute a data.frame that contains the GDP (<code>Y</code>) growth rate for the baseline and the shock scenario.</li>
<li>Export as a <code>.csv</code> files this database</li>
</ul></li>
<li><p>Locate where the <code>.rds</code> file containing all the simulations results from this project (project name <code>one_eq</code>) can be found</p></li>
<li><p>Create a quarto <code>qmd</code> file that :</p>
<ul>
<li>loads the results from those simulations (project name <code>one_eq</code>)</li>
<li>computes the growth rate for the baseline and shock scenarios</li>
<li>makes a graph comparing those two series</li>
</ul></li>
<li><p>In the <code>config_input_one_eq.R</code>, change the equation <code>.mdl</code> file to use <code>01.2-eq_basic_mod.mdl</code> file.</p>
<ul>
<li>Re-run the simulations and the outputs created.</li>
<li>What has changed?</li>
</ul></li>
</ul>
</section></section>
<section>
<section class="title-slide slide level1 agenda-slide center">
<h1>Practical Session 2</h1>
<div class="agenda-heading">

</div>
<div class="agenda">
<div class="agenda-inactive agenda-pre-active">
<p>Introduction</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Practical Session 1</p>
</div>
<div class="agenda-active">
<p>Practical Session 2</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Results visualisation functions</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Workshop day one completed !</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 3</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 4</p>
</div>
</div>
</section>
<section id="complete-exercise-3" class="slide level2">
<h2>Complete Exercise 3</h2>
<ul>
<li><p>Locate the Walras model equation et calibration files</p></li>
<li><p>Make a copy of the <code>Main.R</code>, <code>config_input_MODEL.R</code> and <code>config_output_MODEL.R</code> files, with a relevant suffix (ie <code>Main_s.R</code>)</p></li>
<li><p>Edit your newly created config_input file:</p>
<ul>
<li>Change the <code>project_name</code> argument to something more relevant</li>
<li>Call the correct <code>mdl</code> files</li>
<li>Call upon the correct configuration files in your new main file</li>
<li>Keep the same shock scenario for now</li>
</ul></li>
<li><p>Run the simulations with the basic result template.</p></li>
<li><p>Repeat the procedure, this time using the basic Keynes model files. Compare the outputs from the <code>basic_results</code> template.</p></li>
</ul>
</section></section>
<section>
<section class="title-slide slide level1 agenda-slide center">
<h1>Results visualisation functions</h1>
<div class="agenda-heading">

</div>
<div class="agenda">
<div class="agenda-inactive agenda-pre-active">
<p>Introduction</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Practical Session 1</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Practical Session 2</p>
</div>
<div class="agenda-active">
<p>Results visualisation functions</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Workshop day one completed !</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 3</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 4</p>
</div>
</div>
</section>
<section id="config_output-how-to-use-templates" class="slide level2">
<h2><code>config_output</code>: How to use templates</h2>
</section>
<section id="results-analysis-simpleplot-function" class="slide level2">
<h2>Results analysis: <code>simpleplot</code> function</h2>
<ul>
<li><code>simpleplot</code> creates graphs based on a vector of variables of a database. By default, the function plots one serie. To see the function syntax in the Rstudio console:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="fu">View</span>(ermeeth<span class="sc">::</span>simpleplot)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>There are <strong>4 options</strong> to plot a variable using <code>simpleplot</code> To select an option, we change the argument « transformation » in the <code>simpleplot</code> function:</p>
<p>Option 1: plot the variable in <strong>level</strong> (transformation = « level » )<br>
Option 2: plot the variable in <strong>relative difference</strong> (transformation = « reldiff » )<br>
Option 3: plot the variable in <strong>difference</strong> (transformation = « diff » )<br>
Option 4: plot the variable in <strong>growth rate</strong> (transformation = « gr » )</p></li>
</ul>
</section>
<section id="simpleplot-plot-the-variable-y-in-level-option-1" class="slide level2">
<h2><code>simpleplot</code>: plot the variable « Y » in <span style="color:red;">level</span> (Option 1)</h2>
<ul>
<li>To plot the variable « Y » in level to the baseline scenario, set <code>transformation = "level"</code> as shown in the following code:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a><span class="fu">simpleplot</span>(<span class="at">data =</span> data_full,  <span class="at">transformation =</span> <span class="st">"level"</span>, <span class="at">series =</span> <span class="st">"Y"</span>, <span class="at">label_series =</span> <span class="st">"GDP"</span>, <span class="at">startyear =</span> <span class="dv">2020</span>, <span class="at">endyear =</span> <span class="dv">2035</span>, </span>
<span id="cb16-2"><a></a>           <span class="at">titleplot =</span> <span class="st">"Gross Domestic Product (level)"</span>, <span class="at">unit =</span> <span class="dv">1</span>, <span class="at">decimal =</span> <span class="fl">0.1</span>, <span class="at">custom_x_breaks =</span> <span class="dv">1</span>, <span class="at">percent_label =</span> <span class="cn">TRUE</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>Dashed</strong> line : <strong>Baseline</strong> simulation</li>
<li><strong>Solid</strong> line : <strong>Shock</strong> simulation</li>
<li><code>label_series = "GDP"</code> Changes the name of the variable « Y » into « GDP »</li>
</ul>
</section>
<section id="simpleplot-plot-the-variable-y-in-relative-difference-option-2" class="slide level2">
<h2><code>simpleplot</code>: plot the variable « Y » in <span style="color:red;">relative</span> difference (Option 2)</h2>
<ul>
<li><p>The <strong>relative</strong> difference in the shock compared to the baseline for variable Y is calculated using the following formula: <span class="math display">\[\begin{equation}
reldiff_{t} = (Y_{shock_{t}}-Y_{baseline_{t}})/Y_{baseline_{t}} = Y_{shock_{t}}/Y_{baseline_{t}}-1
\end{equation}\]</span></p></li>
<li><p>To plot the variable « Y » in relative difference to the baseline scenario, set <code>transformation = "reldiff"</code> as shown in the following code:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a><span class="fu">simpleplot</span>(<span class="at">data =</span> data_full,  <span class="at">transformation =</span> <span class="st">"reldiff"</span>, <span class="at">series =</span> <span class="st">"Y"</span>, <span class="at">label_series =</span> <span class="st">"GDP"</span>, <span class="at">startyear =</span> <span class="dv">2020</span>, <span class="at">endyear =</span> <span class="dv">2035</span>, </span>
<span id="cb17-2"><a></a>           <span class="at">titleplot =</span> <span class="st">"Gross Domestic Product (percentage change)"</span>, <span class="at">unit =</span> <span class="st">"percent"</span>, <span class="at">decimal =</span> <span class="fl">0.1</span>, <span class="at">custom_x_breaks =</span> <span class="dv">2</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>Only one plot here !</strong> This is the (relative) difference between the shock and the baseline</li>
</ul>
</section>
<section id="simpleplot-plot-the-variable-y-in-absolute-difference-option-3" class="slide level2">
<h2><code>simpleplot</code>: plot the variable « Y » in <span style="color:red;">absolute</span> difference (Option 3)</h2>
<ul>
<li><p>The <strong>absolute</strong> difference in the shock compared to the baseline for variable Y is calculated using the following formula:</p></li>
<li><p>The variation of Y is calculated using the following formula: <span class="math display">\[\begin{equation}
diff_{t} = Y_{shock_t} - Y_{baseline_{t}}
\end{equation}\]</span></p></li>
<li><p>To plot the variable « Y » in absolute difference to the baseline scenario, set <code>transformation = "diff"</code> as shown in the following code</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a><span class="fu">simpleplot</span>(<span class="at">data =</span> data_full,  <span class="at">transformation =</span> <span class="st">"diff"</span>, <span class="at">series =</span> <span class="st">"Y"</span>, <span class="at">label_series =</span> <span class="st">"GDP"</span>, <span class="at">startyear =</span> <span class="dv">2020</span>, <span class="at">endyear =</span> <span class="dv">2035</span>, </span>
<span id="cb18-2"><a></a>           <span class="at">titleplot =</span> <span class="st">"Gross Domestic Product (absolute change)"</span>, <span class="at">unit =</span> <span class="dv">1</span>, <span class="at">decimal =</span> <span class="fl">0.1</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="simpleplot-plot-the-variable-y-in-growth-rate-option-4" class="slide level2 scrollable">
<h2><em><code>simpleplot</code></em>: plot the variable « Y » in <span style="color:red;">growth rate</span> (Option 4)</h2>
<ul>
<li><p>The growth rate (over time) of Y is calculated using the following formula: <span class="math display">\[\begin{equation}
gr_{shock_{t}} = (Y_{shock_{t}}-Y_{shock_{t-1}})/Y_{shock_{t-1}}
\end{equation}\]</span> <span class="math display">\[\begin{equation}
gr_{baseline_{t}} = (Y_{baseline_{t}}-Y_{baseline_{t-1}})/Y_{baseline_{t-1}}
\end{equation}\]</span></p></li>
<li><p>By growth rate, we mean annual percentage change</p></li>
<li><p>The growth rate (over time) of Y is calculated using the following formula: <span class="math display">\[\begin{equation}
gr_{shock_{t}} = (Y_{shock_{t}}-Y_{shock_{t-1}})/Y_{shock_{t-1}}
\end{equation}\]</span> <span class="math display">\[\begin{equation}
gr_{baseline_{t}} = (Y_{baseline_{t}}-Y_{baseline_{t-1}})/Y_{baseline_{t-1}}
\end{equation}\]</span></p></li>
<li><p>To plot the variable « Y » in growth rate to the baseline scenario, set <code>transformation = "gr"</code> as shown in the following code:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="fu">simpleplot</span>(<span class="at">data =</span> data_full,  <span class="at">transformation =</span> <span class="st">"gr"</span>, <span class="at">series =</span> <span class="st">"Y"</span>, <span class="at">label_series =</span> <span class="st">"GDP"</span>, <span class="at">startyear =</span> <span class="dv">2020</span>, <span class="at">endyear =</span> <span class="dv">2035</span>, </span>
<span id="cb19-2"><a></a>           <span class="at">titleplot =</span> <span class="st">"Gross Domestic Product (yearly percentage change)"</span>, <span class="at">unit =</span> <span class="st">"percent"</span>, <span class="at">decimal =</span> <span class="fl">0.01</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="plot-a-graph-with-the-contribution-of-ch-i-and-g-on-gdp" class="slide level2">
<h2>Plot a graph with the contribution of « CH », « I » and « G » on « GDP »</h2>
<ul>
<li><p>The contribution of each variable to the relative change Y in the shock compared the baseline is calculated using the following formula: <span class="math display">\[\begin{equation}
\frac{Y_{shock}}{Y_{baseline}}-1= (\frac{CH_{shock}}{CH_{baseline}}-1)*(\frac{CH_{baseline}}{Y_{baseline}}) +
(\frac{I_{shock}}{I_{baseline}}-1)*(\frac{I_{baseline}}{Y_{baseline}}) +  (\frac{G_{shock}}{G_{baseline}}-1)*(\frac{G_{baseline}}{Y_{baseline}})
\end{equation}\]</span></p></li>
<li><p>The relative change of Y is the weighed average of the relative change of its components</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a>contrib_comp <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">"CH"</span>, <span class="st">"I"</span>, <span class="st">"G"</span>)</span>
<span id="cb20-2"><a></a>contrib_comp_label <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Households consumption"</span>, <span class="st">"Investment"</span>, <span class="st">"Public spending"</span>)</span>
<span id="cb20-3"><a></a></span>
<span id="cb20-4"><a></a>data_plot <span class="ot">&lt;-</span>  <span class="fu">contrib_longformat</span>(data_full,<span class="st">"Y"</span>, contrib_comp, <span class="at">scenar =</span> <span class="fu">c</span>(<span class="st">"baseline"</span>,scenario_name))</span>
<span id="cb20-5"><a></a></span>
<span id="cb20-6"><a></a>A <span class="ot">&lt;-</span> <span class="fu">contrib.plot</span>(data_plot, <span class="at">series =</span> contrib_comp,<span class="at">label_series =</span> contrib_comp_label,</span>
<span id="cb20-7"><a></a>             <span class="at">startyear =</span> <span class="dv">2020</span>, <span class="at">titleplot =</span> <span class="st">"Contributions to change in GDP"</span>, <span class="at">line_tot =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-8"><a></a></span>
<span id="cb20-9"><a></a>B <span class="ot">&lt;-</span> <span class="fu">simpleplot</span>(data_full,<span class="fu">c</span>(<span class="st">"CH"</span>, <span class="st">"I"</span>, <span class="st">"G"</span>), contrib_comp_label, startyear, endyear, <span class="at">titleplot =</span> <span class="st">"Components of the GDP (in difference from baseline)"</span>)</span>
<span id="cb20-10"><a></a></span>
<span id="cb20-11"><a></a><span class="fu">ggarrange</span>(A,B,</span>
<span id="cb20-12"><a></a>          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"(a)"</span>, <span class="st">"(b)"</span>),</span>
<span id="cb20-13"><a></a>          <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">vjust =</span> <span class="fl">1.5</span>,</span>
<span id="cb20-14"><a></a>          <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">nrow =</span> <span class="dv">1</span>,</span>
<span id="cb20-15"><a></a>          <span class="at">widths =</span> <span class="dv">2</span>,  <span class="at">heights =</span> <span class="dv">1</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="summary-tables" class="slide level2">
<h2>Summary tables</h2>
<p><br></p>
<p>With the <code>dplyr</code> package, it can be easy to modify <code>data_full</code> in order to synthetize results.</p>
<p><br> We provide two functions <code>table_macro()</code> and <code>table_reference()</code> that yield automated raw tables (<code>tibbles</code>) that can later on be formatted with packages such as <code>gt</code> or <code>flextable</code>.</p>
<ul>
<li><code>table_reference()</code> produces results for a given scenario independently (growth rates, levels…)</li>
<li><code>table_macro()</code> produces results for a given scenario in relative to the <code>baseline</code> scenario</li>
</ul>
<p>See <code>basic_results</code> template for examples of usage.</p>
<div class="cell">
<details class="code-fold">
<summary>table_macro arguments</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a>table_macro <span class="ot">&lt;-</span> <span class="cf">function</span>(data,</span>
<span id="cb21-2"><a></a>                        <span class="at">shock =</span> <span class="st">"ct1"</span>,</span>
<span id="cb21-3"><a></a>                        <span class="at">relative_variation =</span> <span class="cn">NULL</span>,</span>
<span id="cb21-4"><a></a>                        <span class="at">level_diff =</span> <span class="cn">NULL</span>,</span>
<span id="cb21-5"><a></a>                        <span class="at">percent_diff =</span> <span class="cn">NULL</span>,</span>
<span id="cb21-6"><a></a>                        <span class="at">order =</span> <span class="cn">NULL</span>,</span>
<span id="cb21-7"><a></a>                        <span class="at">time_vector =</span> <span class="cf">if</span>(<span class="fu">exists</span>(<span class="st">"time_waypoints"</span>)){time_waypoints}<span class="cf">else</span>{<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">30</span>,<span class="dv">60</span>)},</span>
<span id="cb21-8"><a></a>                        <span class="at">end_year =</span> <span class="dv">2050</span>,</span>
<span id="cb21-9"><a></a>                        <span class="at">shock_year =</span> <span class="dv">2021</span>,</span>
<span id="cb21-10"><a></a>                        <span class="at">digits_numb =</span> <span class="dv">2</span></span>
<span id="cb21-11"><a></a>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="texdoc" class="slide level2">
<h2>TeXdoc</h2>
<ul>
<li><p>TeXdoc is function that reads <code>mdl</code> files to translate the equations into LaTeX code in order to retranscribe them in documents is a more legible manner.</p>
<ul>
<li>Not perfect yet!</li>
<li>Quite sensitive to how <code>mdl</code> files are written, especially when it come to sectionning text</li>
</ul></li>
<li><p>We added a functionnality that transforms the <code>tex</code> output into a <code>qmd</code> output that can be called upon in qmd</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>TeXdoc syntax</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a><span class="fu">teXdoc</span>(     <span class="at">sources   =</span> <span class="fu">c</span>(<span class="st">"02.1-eq.mdl"</span>),</span>
<span id="cb22-2"><a></a>            <span class="at">exo       =</span> <span class="fu">c</span>(<span class="st">"02.1-exovar.mdl"</span>),</span>
<span id="cb22-3"><a></a>            <span class="at">base.path =</span> <span class="fu">file.path</span>(<span class="st">"src"</span>,<span class="st">"model"</span>,<span class="st">"training"</span>),</span>
<span id="cb22-4"><a></a>            <span class="at">out       =</span> <span class="st">"model-eq"</span>,</span>
<span id="cb22-5"><a></a>            <span class="at">out.path  =</span> <span class="st">"results_side_files"</span>)</span>
<span id="cb22-6"><a></a></span>
<span id="cb22-7"><a></a></span>
<span id="cb22-8"><a></a><span class="fu">make_eq_qmd</span>(<span class="at">preface =</span> <span class="fu">file.path</span>(<span class="st">"results_side_files"</span>,  <span class="st">"model-eq_preface.tex"</span>),</span>
<span id="cb22-9"><a></a>            <span class="at">maintex =</span> <span class="fu">file.path</span>(<span class="st">"results_side_files"</span>, <span class="st">"model-eq.tex"</span>),</span>
<span id="cb22-10"><a></a>            <span class="at">out.dir =</span> <span class="st">"results_side_files"</span> )</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The output generated are <span class="math inline">\(\LaTeX\)</span> files as well as <code>.qmd</code> that may be included in other reports, found in the <code>results\quarto_render</code> folder:</p>
<pre><code>- equation file
- exogenous file
- glossary file</code></pre>
<p>To facilitate the usage, quarto template is available that can be called from <code>config_output</code></p>
</section>
<section id="live-demo-2" class="slide level2 center">
<h2>Live Demo</h2>
<p><strong>TeXdoc files</strong></p>
<p><strong>TeXdoc quarto template</strong></p>
</section>
<section id="complete-exercise-4" class="slide level2 scrollable">
<h2>Complete Exercise 4</h2>
<ul>
<li><p>Create your quarto file and create graphs using shortcut plotting functions</p>
<ul>
<li><code>simple_plot()</code></li>
<li><code>contrib_plot()</code></li>
</ul></li>
<li><p>Enable the use of the Texdoc template and model_info templates in the <code>config_output</code> to generate the equations list for your model.</p></li>
<li><p>Include the equation index generated by TeXdoc in your newly created <code>.qmd</code></p></li>
<li><p>Create a table that summarizes the results in relative difference from the baseline for one year after the initial shock, then 2, 3, 10 and 50 for the following variables : GDP, household consumption, public spending and investment. Here’s a few steps to help you achieve this:</p></li>
<li><p><em>Identify the year of the shock</em></p></li>
<li><p><em>identify the year that correspond to <span class="math inline">\(t+2\)</span>, <span class="math inline">\(t+3\)</span>, <span class="math inline">\(t+10\)</span> and <span class="math inline">\(t+50\)</span> where <span class="math inline">\(t\)</span> is the year of the initial shock.</em></p></li>
<li><p><em>Create a new data.frame from data_full that contains only the relevant variables, compute the relative difference, and keep only the information desired</em></p></li>
<li><p><em>reorginize your data.frame to format nicely</em></p></li>
<li><p>Use your new <code>.qmd</code> to compare simulation results of a shock on public expenditure in a basic Walras model vs a basic Keynesian model by generating two different simulation outputs.</p></li>
</ul>
</section></section>
<section class="title-slide slide level1 agenda-slide center">
<h1>Workshop day one completed !</h1>
<div class="agenda-heading">

</div>
<div class="agenda">
<div class="agenda-inactive agenda-pre-active">
<p>Introduction</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Practical Session 1</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Practical Session 2</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Results visualisation functions</p>
</div>
<div class="agenda-active">
<p>Workshop day one completed !</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 3</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 4</p>
</div>
</div>
</section>

<section>
<section class="title-slide slide level1 agenda-slide center">
<h1>Practical Session 3</h1>
<div class="agenda-heading">

</div>
<div class="agenda">
<div class="agenda-inactive agenda-pre-active">
<p>Introduction</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Practical Session 1</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Practical Session 2</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Results visualisation functions</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Workshop day one completed !</p>
</div>
<div class="agenda-active">
<p>Practical Session 3</p>
</div>
<div class="agenda-inactive agenda-post-active">
<p>Practical Session 4</p>
</div>
</div>
</section>
<section id="complete-exercise-5" class="slide level2">
<h2>Complete Exercise 5</h2>
<p>Exercise 5 : Loading the neokeynesian model</p>
<ul>
<li><p>Locate the Neokeynesian model <code>.mdl</code> files</p></li>
<li><p>Do the necessary steps (create and modify the relevant files) run the same shock on public spending as we did for the Walras model.</p>
<ul>
<li>hint: don’t forget to change the <code>project_name</code> argument</li>
</ul></li>
<li><p>Create a similar <code>.qmd</code> file as we did for the Walras model. (hint: this can be done very quickly ;) ), complete with the equations lists from TeXdoc.</p></li>
<li><p>Let’s complicate a little bit: on the qmd, place next to eachother the macroeconomic components graphs for each model simulation and same for the table.</p></li>
</ul>
</section>
<section id="making-2_calib_shock-files" class="slide level2">
<h2>Making 2_calib_shock files</h2>
<ul>
<li>Shock Calibration are found in the folder <strong>configuration/scenarii_calib</strong>.</li>
<li>Inside you would find two main types of R scripts:</li>
</ul>
<pre><code>+ the ones that are used to calibrate baselines (start with **1_calib_**)
+ the ones used to calibrate shocks.(start with **2_calib_shock**) </code></pre>
<ul>
<li>After these common name basis, you would find the baseline name or the shock code called in <code>config_input</code>.</li>
</ul>
<p>Shocks are defined in two main different ways:</p>
<ul>
<li>Loading and xlsx or csv file containing the evolution of the variable that we want to shock over the time</li>
<li>Coding the shock in R in the same file</li>
</ul>
</section>
<section id="structure-of-a-2_calib_shock_-file-1" class="slide level2">
<h2>Structure of a <code>2_calib_shock_</code> file (1)</h2>
<h3 id="a-two-step-process">A two step process</h3>
<ul>
<li><p>Loading <code>calib_new_base</code></p>
<ul>
<li><code>calib_new_base</code> : a calibration data_frame built on the calibration <code>mdl</code> files that incorporate potential changes to the baseline</li>
<li>cannot be seen in the environment, have to rely on the <em>calibration bubble</em> tool</li>
</ul></li>
<li><p>Creating a <code>shock_ch</code> data.frame that contains the modified version of the exogenous variables used for the shock</p>
<ul>
<li><p>must be called <code>shock_ch</code></p></li>
<li><p>must include the <code>year</code> column at the end</p></li>
<li><p>last operation of the script mst be defining <code>shock_ch</code></p></li>
<li><p>How you achieve this modified series is up to you (R code, loading csv, fetching data online etc)</p></li>
</ul></li>
</ul>
</section>
<section id="structure-of-a-2_calib_shock_-file-2" class="slide level2">
<h2>Structure of a <code>2_calib_shock_</code> file (2)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a><span class="co"># Load the selected series for the range baseyear:lastyear</span></span>
<span id="cb25-2"><a></a>selection <span class="ot">&lt;-</span> calib_new_base <span class="sc">%&gt;%</span> <span class="fu">select</span>(year, y,g)</span>
<span id="cb25-3"><a></a></span>
<span id="cb25-4"><a></a><span class="do">## Change in exogenous variables</span></span>
<span id="cb25-5"><a></a><span class="co">#(1) Using formulas</span></span>
<span id="cb25-6"><a></a>shock_ch <span class="ot">&lt;-</span> <span class="fu">mutate</span>(selection,</span>
<span id="cb25-7"><a></a>                   <span class="at">g =</span> <span class="fu">ifelse</span>(year <span class="sc">&gt;=</span> <span class="dv">2021</span>, g <span class="sc">+</span> <span class="fl">0.01</span><span class="sc">*</span>y, g)</span>
<span id="cb25-8"><a></a></span>
<span id="cb25-9"><a></a>                   )  <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>y)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="possibly-changing-the-baseline-calibration-1_calib_baseline" class="slide level2">
<h2>Possibly changing the baseline calibration 1_calib_baseline</h2>
<p>The baseline calibration file is changed in a similar way :</p>
<ul>
<li><p>Loading <code>OGcalib</code></p>
<ul>
<li><p><code>OGcalib</code> : the calibration data_frame built on the calibration <code>mdl</code> files direclty</p></li>
<li><p>cannot be seen in the environment, have to rely on the <em>calibration bubble</em> tool (option baseline_calibration <code>TRUE</code>)</p></li>
<li><p>Creating a <code>baseline_ch</code> data.frame that contains the modified version of the exogenous variables used for the shock</p>
<ul>
<li><p>must be called <code>baseline_ch</code></p></li>
<li><p>must include the <code>year</code> column at the end</p></li>
<li><p>last operation of the script mst be defining <code>baseline_ch</code></p></li>
<li><p>How you achieve this modified series is up to you (R code, loading csv, fetching data online etc)</p></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="exercise-6-part-1" class="slide level2">
<h2>Exercise 6 part 1</h2>
<ul>
<li><p>Locate the shock calibration file we have been using so far.</p></li>
<li><p>Make a copy and call it <code>2_calib_shock_g_bis.R</code></p></li>
<li><p>Make the necessary changes to the <code>config_input</code> file to be able to run this new shock.</p></li>
<li><p>See if you can reuse the <code>.qmd</code> file from <strong>?@sec-3_1</strong></p></li>
<li><p>Test the following changes on you new shock calibration file :</p>
<ul>
<li>increase in public spending of 5% of GDP</li>
</ul></li>
<li><p>Change your config_input file to simulate both the original shock in public spending and this new one and view both results at once</p></li>
</ul>
</section>
<section id="exercise-6-part-2" class="slide level2">
<h2>Exercise 6 part 2</h2>
<ul>
<li><p>Create new shocks from scratch :</p>
<ul>
<li>A sudden (but temporary) decrease in population of -1% in the year 2022</li>
<li>A yearly population decrease starting the year 2030 of -0.1%</li>
</ul></li>
<li><p>Create a new shock calibration file aimed at testing labour productivity shocks (empty for now)</p></li>
<li><p>What is the baseline labour productivity growth in this model ?</p></li>
<li><p>What variable do we have change to create a shock scenario on labour productivity growth and why can’t it be <code>GR_PROG_L</code>?</p></li>
<li><p>Do the necessary (model, results visualization) to answer this question:</p>
<ul>
<li><strong>What happens if labour productivity growth increases temporarily to 10% in 2023?</strong></li>
</ul></li>
</ul>
</section></section>
<section>
<section class="title-slide slide level1 agenda-slide center">
<h1>Practical Session 4</h1>
<div class="agenda-heading">

</div>
<div class="agenda">
<div class="agenda-inactive agenda-pre-active">
<p>Introduction</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Practical Session 1</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Practical Session 2</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Results visualisation functions</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Workshop day one completed !</p>
</div>
<div class="agenda-inactive agenda-pre-active">
<p>Practical Session 3</p>
</div>
<div class="agenda-active">
<p>Practical Session 4</p>
</div>
</div>
</section>
<section id="equations-over-lists" class="slide level2">
<h2>equations over lists</h2>
<p>So far we have seen mainly what happens in macro models, assuming the economy is one unique sector.</p>
<p>Equations can become multisectoral using the following syntax :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a><span class="do">## BEFORE</span></span>
<span id="cb26-2"><a></a>CH <span class="ot">=</span> <span class="dv">50</span> <span class="do">## means all CH is 50</span></span>
<span id="cb26-3"><a></a></span>
<span id="cb26-4"><a></a><span class="do">## AFTER</span></span>
<span id="cb26-5"><a></a>CH[c] <span class="ot">=</span> <span class="dv">50</span> <span class="do">## means CH for each commodity c will be 50</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When using list variables, an aggregated variable should be added :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a></a><span class="do">## BEFORE</span></span>
<span id="cb27-2"><a></a>CH <span class="ot">=</span> <span class="fu">sum</span>(CH[c] on c)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lists" class="slide level2">
<h2>lists</h2>
<p>Lists of sectors/commodities/ are defined in the <code>model</code> folder in the <code>lists.mdl</code> file</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a><span class="co"># Sectors and commodities</span></span>
<span id="cb28-2"><a></a>%list_sec <span class="sc">:</span><span class="er">=</span> s001 s002</span>
<span id="cb28-3"><a></a>%list_com <span class="sc">:</span><span class="er">=</span> c001 c002</span>
<span id="cb28-4"><a></a></span>
<span id="cb28-5"><a></a><span class="co"># Default iterators</span></span>
<span id="cb28-6"><a></a>s <span class="cf">in</span> %list_sec</span>
<span id="cb28-7"><a></a>c <span class="cf">in</span> %list_com</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="do-exercise-7-part-1" class="slide level2">
<h2>Do Exercise 7 part 1</h2>
<p><br></p>
<ul>
<li>Using the <code>01.1_eq_one_eq.mdl</code> model, add an equation to allow for 2 types of goods to be consumed.</li>
<li>Check that the simulations run for a <code>c2_s2</code> classification, and then a <code>c4_s4</code> classification.</li>
<li>What do you notice in terms of model size?</li>
</ul>
</section>
<section id="do-exercise-7-part-2" class="slide level2">
<h2>Do Exercise 7 part 2</h2>
<p><br></p>
<ul>
<li>Locate the mutlisectoral <code>.mdl</code> files.</li>
<li>Do the necessary to run simulation on a increase in public expenditure scenario in this scenario</li>
</ul>

<div class="quarto-auto-generated-content">
<p><img src="site_libs/quarto-contrib/quarto-project/ofce/pres/ofce_m.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>CGE in R - Practical sessions <i class="fa-solid fa-ellipsis" aria-label="ellipsis"></i> </p>
</div>
</div>
</section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1200,

        height: 750,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copié");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copié");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/ThreeME-org\.github\.io\/CGE_inR_iberomex\/");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>